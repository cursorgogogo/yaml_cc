<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to Create Deployment YAML File in Kubernetes - Complete Guide | YAML.cc</title>
    <meta name="description" content="Step-by-step guide to creating Kubernetes deployment YAML files. Learn the structure, required fields, and best practices for Kubernetes deployments.">
    <meta name="keywords" content="kubernetes deployment yaml, create deployment yaml, k8s deployment file, kubernetes yaml example, deployment manifest">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yaml.cc/qa/how-to-create-deployment-yaml-file-in-kubernetes">
    <link rel="icon" type="image/x-icon" href="/assets/images/yamllint.svg">
    
    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://yaml.cc/qa/how-to-create-deployment-yaml-file-in-kubernetes">
    <meta property="og:title" content="How to Create Deployment YAML File in Kubernetes | YAML.cc">
    <meta property="og:description" content="Complete guide to creating Kubernetes deployment YAML files with examples and best practices.">
    <meta property="og:image" content="https://yaml.cc/assets/images/yamllint.svg">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../index.css" type="text/css">
</head>
<body class="bg-white text-gray-900">
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="../" class="text-xl font-bold text-gray-900 hover:text-gray-700">
                        YAML.cc
                    </a>
                </div>
                <ul class="hidden md:flex space-x-8">
                    <li><a href="../#tools" class="text-gray-600 hover:text-gray-900 transition">YAML Tools</a></li>
                    <li><a href="../#info-section" class="text-gray-600 hover:text-gray-900 transition">What is YAML?</a></li>
                    <li><a href="../tutorial/" class="text-gray-600 hover:text-gray-900 transition">Tutorial</a></li>
                    <li><a href="./" class="text-gray-600 hover:text-gray-900 transition">Q&A</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="py-12 bg-white">
        <article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Breadcrumb -->
            <nav class="mb-8 text-sm">
                <a href="../" class="text-blue-600 hover:text-blue-700">Home</a>
                <span class="mx-2 text-gray-400">/</span>
                <a href="./" class="text-blue-600 hover:text-blue-700">Q&A</a>
                <span class="mx-2 text-gray-400">/</span>
                <span class="text-gray-600">Kubernetes Deployment YAML</span>
            </nav>

            <!-- Article Header -->
            <header class="mb-12">
                <h1 class="text-4xl font-bold text-gray-900 mb-4">How to Create Deployment YAML File in Kubernetes</h1>
                <p class="text-xl text-gray-600">Complete guide to creating and configuring Kubernetes deployment manifests</p>
                <div class="mt-6 flex items-center gap-4 text-sm text-gray-500">
                    <span>Last updated: November 2024</span>
                    <span>•</span>
                    <span>8 min read</span>
                </div>
            </header>

            <!-- Introduction -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">Introduction</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Kubernetes deployments are declarative configuration files that define how your application containers should run in a cluster. This guide covers the essential structure and fields needed to create a deployment YAML file.
                </p>
            </section>

            <!-- Basic Structure -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">Basic Deployment Structure</h2>
                <p class="text-gray-700 mb-4">A Kubernetes deployment YAML file consists of four main sections:</p>
                <ul class="list-disc list-inside text-gray-700 space-y-2 mb-6 ml-4">
                    <li><code class="bg-gray-100 px-2 py-1 rounded text-sm">apiVersion</code> - Kubernetes API version</li>
                    <li><code class="bg-gray-100 px-2 py-1 rounded text-sm">kind</code> - Resource type (Deployment)</li>
                    <li><code class="bg-gray-100 px-2 py-1 rounded text-sm">metadata</code> - Deployment metadata</li>
                    <li><code class="bg-gray-100 px-2 py-1 rounded text-sm">spec</code> - Deployment specification</li>
                </ul>
                
                <div class="bg-gray-900 rounded-lg p-4 mb-4">
                    <pre class="text-sm text-gray-200 overflow-x-auto"><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-deployment
  labels:
    app: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: nginx:1.21
        ports:
        - containerPort: 80</code></pre>
                </div>
            </section>

            <!-- Required Fields -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Required Fields Explained</h2>
                
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">apiVersion</h3>
                    <p class="text-gray-700 mb-3">Specifies the Kubernetes API version. For deployments, use:</p>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code>apiVersion: apps/v1</code></pre>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">kind</h3>
                    <p class="text-gray-700 mb-3">Defines the resource type. For deployments:</p>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code>kind: Deployment</code></pre>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">metadata</h3>
                    <p class="text-gray-700 mb-3">Contains deployment identification and labels:</p>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code>metadata:
  name: my-app-deployment
  namespace: default
  labels:
    app: my-app
    environment: production</code></pre>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">spec</h3>
                    <p class="text-gray-700 mb-3">Defines the desired state of the deployment:</p>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code>spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    # Pod template specification</code></pre>
                    </div>
                </div>
            </section>

            <!-- Complete Example -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">Complete Deployment Example</h2>
                <p class="text-gray-700 mb-4">A production-ready deployment with common configurations:</p>
                <div class="bg-gray-900 rounded-lg p-4">
                    <pre class="text-sm text-gray-200 overflow-x-auto"><code>apiVersion: apps/v1
kind: Deployment
metadata:
  name: web-app-deployment
  namespace: production
  labels:
    app: web-app
    version: v1.0.0
spec:
  replicas: 3
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  selector:
    matchLabels:
      app: web-app
  template:
    metadata:
      labels:
        app: web-app
        version: v1.0.0
    spec:
      containers:
      - name: web-app
        image: myregistry/web-app:1.0.0
        imagePullPolicy: IfNotPresent
        ports:
        - name: http
          containerPort: 8080
          protocol: TCP
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: db-secret
              key: url
        - name: LOG_LEVEL
          value: "info"
        resources:
          requests:
            memory: "256Mi"
            cpu: "250m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /health
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /ready
            port: 8080
          initialDelaySeconds: 5
          periodSeconds: 5</code></pre>
                </div>
            </section>

            <!-- Key Configuration Options -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Key Configuration Options</h2>
                
                <div class="space-y-6">
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Replicas</h3>
                        <p class="text-gray-700 mb-3">Number of pod instances to maintain:</p>
                        <div class="bg-gray-900 rounded-lg p-4">
                            <pre class="text-sm text-gray-200 overflow-x-auto"><code>spec:
  replicas: 3</code></pre>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Update Strategy</h3>
                        <p class="text-gray-700 mb-3">Controls how pods are replaced during updates:</p>
                        <div class="bg-gray-900 rounded-lg p-4">
                            <pre class="text-sm text-gray-200 overflow-x-auto"><code>spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0</code></pre>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Resource Limits</h3>
                        <p class="text-gray-700 mb-3">Define CPU and memory constraints:</p>
                        <div class="bg-gray-900 rounded-lg p-4">
                            <pre class="text-sm text-gray-200 overflow-x-auto"><code>resources:
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"</code></pre>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">Health Checks</h3>
                        <p class="text-gray-700 mb-3">Configure liveness and readiness probes:</p>
                        <div class="bg-gray-900 rounded-lg p-4">
                            <pre class="text-sm text-gray-200 overflow-x-auto"><code>livenessProbe:
  httpGet:
    path: /health
    port: 8080
  initialDelaySeconds: 30
readinessProbe:
  httpGet:
    path: /ready
    port: 8080
  initialDelaySeconds: 5</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Creating the File -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">Creating and Applying the Deployment</h2>
                <p class="text-gray-700 mb-4">Steps to create and deploy your YAML file:</p>
                
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Step 1: Create the YAML file</h3>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code># Save as deployment.yaml
nano deployment.yaml
# or
vim deployment.yaml</code></pre>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Step 2: Validate the YAML</h3>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code># Dry run to validate
kubectl apply --dry-run=client -f deployment.yaml

# Validate YAML syntax
kubectl apply --validate=true -f deployment.yaml</code></pre>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Step 3: Apply the deployment</h3>
                    <div class="bg-gray-900 rounded-lg p-4">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code># Apply to cluster
kubectl apply -f deployment.yaml

# Check deployment status
kubectl get deployments
kubectl describe deployment web-app-deployment</code></pre>
                    </div>
                </div>
            </section>

            <!-- Best Practices -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Best Practices</h2>
                <ul class="space-y-4 text-gray-700">
                    <li class="flex items-start">
                        <span class="mr-3 text-blue-600">•</span>
                        <div>
                            <strong class="text-gray-900">Use semantic versioning</strong> in image tags and labels for better tracking
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-3 text-blue-600">•</span>
                        <div>
                            <strong class="text-gray-900">Set resource limits</strong> to prevent resource exhaustion and ensure fair scheduling
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-3 text-blue-600">•</span>
                        <div>
                            <strong class="text-gray-900">Configure health probes</strong> for reliable application lifecycle management
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-3 text-blue-600">•</span>
                        <div>
                            <strong class="text-gray-900">Use ConfigMaps and Secrets</strong> for configuration and sensitive data instead of hardcoding
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="mr-3 text-blue-600">•</span>
                        <div>
                            <strong class="text-gray-900">Define update strategies</strong> appropriate for your application's availability requirements
                        </div>
                    </li>
                </ul>
            </section>

            <!-- Common Issues -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Common Issues and Solutions</h2>
                
                <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6">
                    <h3 class="text-lg font-semibold text-red-900 mb-2">Issue: Image pull errors</h3>
                    <p class="text-red-800 mb-2">If your pods fail to start due to image pull errors:</p>
                    <div class="bg-gray-900 rounded-lg p-4 mt-2">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code># Check image pull policy
imagePullPolicy: Always  # or IfNotPresent

# Verify image exists and is accessible
docker pull your-image:tag</code></pre>
                    </div>
                </div>

                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6">
                    <h3 class="text-lg font-semibold text-yellow-900 mb-2">Issue: Pods not starting</h3>
                    <p class="text-yellow-800 mb-2">Debug pod startup issues:</p>
                    <div class="bg-gray-900 rounded-lg p-4 mt-2">
                        <pre class="text-sm text-gray-200 overflow-x-auto"><code># Check pod events
kubectl describe pod &lt;pod-name&gt;

# View pod logs
kubectl logs &lt;pod-name&gt;

# Check deployment status
kubectl get deployment -o wide</code></pre>
                    </div>
                </div>
            </section>

            <!-- Related Articles -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-900 mb-6">Related Articles</h2>
                <div class="grid md:grid-cols-2 gap-4">
                    <a href="sample-kubernetes-deployment-yaml-file-example.html" class="block bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:border-blue-500 transition">
                        <h3 class="font-semibold text-gray-900 mb-2">Sample Kubernetes Deployment YAML Examples</h3>
                        <p class="text-sm text-gray-600">Ready-to-use deployment YAML templates for common scenarios</p>
                    </a>
                    <a href="../tutorial/" class="block bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:border-blue-500 transition">
                        <h3 class="font-semibold text-gray-900 mb-2">YAML Tutorial</h3>
                        <p class="text-sm text-gray-600">Learn YAML syntax and best practices</p>
                    </a>
                </div>
            </section>

            <!-- Back to Home -->
            <div class="text-center mt-12">
                <a href="../" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    Back to YAML Tools
                </a>
            </div>
        </article>
    </main>

    <footer class="bg-white border-t border-gray-200 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-gray-900 font-bold text-lg mb-3">YAML.cc</h3>
                    <p class="text-gray-600 text-sm">Professional YAML tools and resources for developers.</p>
                </div>
                <div>
                    <h4 class="text-gray-900 font-semibold mb-3">Tools</h4>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li><a href="../#tools" class="hover:text-gray-900 transition">YAML Validator</a></li>
                        <li><a href="../#tools" class="hover:text-gray-900 transition">YAML Formatter</a></li>
                        <li><a href="../#tools" class="hover:text-gray-900 transition">YAML to JSON</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-gray-900 font-semibold mb-3">Resources</h4>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li><a href="../#info-section" class="hover:text-gray-900 transition">What is YAML?</a></li>
                        <li><a href="../tutorial/" class="hover:text-gray-900 transition">Tutorial</a></li>
                        <li><a href="./" class="hover:text-gray-900 transition">Q&A</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-200 mt-8 pt-8 text-center text-sm text-gray-500">
                <p>&copy; 2024 YAML.cc. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>